<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GREENOVA - Dashboard Robot Pemantau Lingkungan</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü§ñ</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #22c55e; --secondary: #7dd3fc; --success: #10b981; --warning: #f59e0b; --error: #ef4444;
            --background: #ffffff; --foreground: #0f172a; --card: #ffffff; --muted: #f1f5f9; --muted-foreground: #64748b;
            --border: rgba(0, 0, 0, 0.1); --radius: 0.75rem;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Inter', sans-serif; background: var(--background); color: var(--foreground); line-height: 1.5; }
        .hidden { display: none !important; } .flex { display: flex; } .grid { display: grid; }
        .items-center { align-items: center; } .justify-center { justify-content: center; } .justify-between { justify-content: space-between; }
        .gap-2 { gap: 0.5rem; } .gap-4 { gap: 1rem; } .gap-6 { gap: 1.5rem; } .gap-8 { gap: 2rem; }
        .w-full { width: 100%; } .h-full { height: 100%; } .min-h-screen { min-height: 100vh; }
        .max-w-4xl { max-width: 56rem; } .max-w-6xl { max-width: 72rem; } .mx-auto { margin: 0 auto; }
        .px-4 { padding: 0 1rem; } .px-6 { padding: 0 1.5rem; } .py-2 { padding: 0.5rem 0; }
        .py-4 { padding: 1rem 0; } .py-8 { padding: 2rem 0; } .py-16 { padding: 4rem 0; }
        .p-4 { padding: 1rem; } .p-6 { padding: 1.5rem; } .p-8 { padding: 2rem; }
        .mb-4 { margin-bottom: 1rem; } .mb-6 { margin-bottom: 1.5rem; } .mb-8 { margin-bottom: 2rem; } .mb-12 { margin-bottom: 3rem; }
        .rounded { border-radius: var(--radius); } .rounded-lg { border-radius: calc(var(--radius) + 2px); } .rounded-full { border-radius: 9999px; }
        .shadow { box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1); } .shadow-lg { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        .shadow-xl { box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); } .border { border: 1px solid var(--border); }
        .text-center { text-align: center; } .text-sm { font-size: 0.875rem; } .text-lg { font-size: 1.125rem; }
        .text-xl { font-size: 1.25rem; } .text-2xl { font-size: 1.5rem; } .text-3xl { font-size: 1.875rem; }
        .font-medium { font-weight: 500; } .font-semibold { font-weight: 600; } .font-bold { font-weight: 700; }
        .transition { transition: all 0.3s ease; } .cursor-pointer { cursor: pointer; }
        .relative { position: relative; } .absolute { position: absolute; } .fixed { position: fixed; }
        .top-0 { top: 0; } .left-0 { left: 0; } .right-0 { right: 0; } .bottom-0 { bottom: 0; }
        .z-10 { z-index: 10; } .z-30 { z-index: 30; } .z-50 { z-index: 50; }

        .btn { display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem; padding: 0.75rem 1.5rem;
            font-size: 1rem; font-weight: 500; border-radius: var(--radius); border: 1px solid transparent;
            cursor: pointer; transition: all 0.3s ease; text-decoration: none; white-space: nowrap; }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .btn-primary { background: var(--primary); color: white; border-color: var(--primary); }
        .btn-primary:hover:not(:disabled) { background: var(--success); transform: translateY(-1px); box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3); }
        .btn-secondary { background: var(--secondary); color: #0f172a; border-color: var(--secondary); }
        .btn-outline { background: transparent; color: var(--primary); border-color: var(--primary); }
        .btn-outline:hover:not(:disabled) { background: var(--primary); color: white; }
        .btn-ghost { background: transparent; color: var(--foreground); border-color: transparent; }
        .btn-ghost:hover:not(:disabled) { background: var(--muted); }
        .btn-sm { padding: 0.5rem 1rem; font-size: 0.875rem; } .btn-lg { padding: 1rem 2rem; font-size: 1.125rem; }

        .card { background: var(--card); border: 1px solid var(--border); border-radius: var(--radius); box-shadow: var(--shadow); transition: all 0.3s ease; }
        .card:hover { box-shadow: var(--shadow-lg); transform: translateY(-2px); }

        .input, .select, .textarea { width: 100%; padding: 0.75rem 1rem; font-size: 1rem; border: 1px solid var(--border);
            border-radius: var(--radius); background: #f8fafc; transition: border-color 0.3s ease; }
        .input:focus, .select:focus, .textarea:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1); }
        .textarea { resize: vertical; min-height: 100px; }

        .loading-screen { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex; align-items: center; justify-content: center; z-index: 9999; }
        .loading-spinner { width: 48px; height: 48px; border: 4px solid rgba(255, 255, 255, 0.2); border-top: 4px solid white;
            border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 1rem; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .navbar { background: var(--card); border-bottom: 1px solid var(--border); box-shadow: var(--shadow); position: sticky; top: 0; z-index: 30; }
        .nav-container { max-width: 1200px; margin: 0 auto; padding: 0 1.5rem; display: flex; align-items: center; justify-content: space-between; height: 64px; }
        .nav-brand { display: flex; align-items: center; gap: 0.75rem; font-size: 1.25rem; font-weight: 700; color: var(--primary); text-decoration: none; }
        .nav-logo { width: 40px; height: 40px; background: linear-gradient(135deg, var(--primary), var(--secondary)); border-radius: 50%;
            display: flex; align-items: center; justify-content: center; font-size: 1.5rem; }
        .nav-menu { display: flex; align-items: center; gap: 2rem; } .nav-links { display: flex; align-items: center; gap: 2rem; list-style: none; }
        .nav-link { color: var(--muted-foreground); text-decoration: none; font-weight: 500; transition: color 0.3s ease; }
        .nav-link:hover, .nav-link.active { color: var(--primary); }

        .admin-layout { display: flex; min-height: 100vh; }
        .admin-sidebar { width: 280px; background: var(--muted); border-right: 1px solid var(--border); flex-shrink: 0; }
        .admin-header { padding: 1.5rem; border-bottom: 1px solid var(--border); }
        .admin-nav { padding: 1rem 0; } .admin-nav-links { list-style: none; }
        .admin-nav-link { display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1.5rem; color: #334155;
            text-decoration: none; transition: all 0.3s ease; }
        .admin-nav-link:hover, .admin-nav-link.active { background: var(--primary); color: white; }
        .admin-main { flex: 1; overflow: auto; }
        .admin-topbar { background: var(--card); border-bottom: 1px solid var(--border); padding: 1rem 1.5rem;
            display: flex; align-items: center; justify-content: space-between; }
        .admin-content { padding: 2rem; }

        .grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
        .grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
        .grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
        .grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
        .responsive-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; }

        .status-dot { display: inline-block; width: 8px; height: 8px; border-radius: 50%; margin-right: 0.5rem; }
        .status-online { background: var(--success); animation: pulse 2s infinite; }
        .status-offline { background: var(--error); }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

        .aqi-good { background: #10b981; color: white; } .aqi-moderate { background: #f59e0b; color: white; }
        .aqi-unhealthy { background: #ef4444; color: white; }

        .chat-container { max-width: 800px; margin: 0 auto; background: var(--card); border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow-lg); }
        .chat-header { background: linear-gradient(135deg, var(--primary), var(--secondary)); color: white; padding: 1.5rem; display: flex; align-items: center; gap: 1rem; }
        .chat-messages { height: 400px; overflow-y: auto; padding: 1.5rem; background: var(--muted); }
        .message { display: flex; gap: 1rem; margin-bottom: 1.5rem; }
        .message-avatar { width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex; align-items: center; justify-content: center; color: white; font-size: 1.25rem; flex-shrink: 0; }
        .message-content { flex: 1; background: var(--card); padding: 1rem; border-radius: var(--radius); box-shadow: var(--shadow); }
        .user-message .message-content { background: var(--primary); color: white; }
        .chat-input-container { padding: 1.5rem; background: var(--card); border-top: 1px solid var(--border); }
        .quick-questions { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 1rem; }
        .quick-btn { padding: 0.5rem 1rem; font-size: 0.875rem; background: var(--muted); border: 1px solid var(--border);
            border-radius: 9999px; cursor: pointer; transition: all 0.3s ease; }
        .quick-btn:hover { background: var(--primary); color: white; }
        .chat-input { display: flex; gap: 0.75rem; }
        .chat-input input { flex: 1; padding: 0.75rem 1rem; border: 1px solid var(--border); border-radius: var(--radius); font-size: 1rem; }
        .send-btn { padding: 0.75rem 1rem; background: var(--primary); color: white; border: none; border-radius: var(--radius);
            cursor: pointer; transition: background-color 0.3s ease; }
        .send-btn:hover { background: var(--success); }

        .floating-robot { position: fixed; bottom: 2rem; right: 2rem; width: 60px; height: 60px;
            background: linear-gradient(135deg, var(--primary), var(--secondary)); border: none; border-radius: 50%;
            cursor: pointer; box-shadow: var(--shadow-xl); z-index: 50; display: flex; align-items: center; justify-content: center;
            color: white; font-size: 1.5rem; transition: all 0.3s ease; animation: float 3s ease-in-out infinite; }
        .floating-robot:hover { transform: scale(1.1); box-shadow: 0 25px 50px -12px rgba(34, 197, 94, 0.25); }
        @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-10px); } }

        .back-button { position: fixed; top: 80px; left: 2rem; z-index: 30; }

        .hero { background: linear-gradient(135deg, var(--primary), var(--secondary)); color: white; padding: 4rem 0; text-align: center; }
        .hero h1 { font-size: 3rem; margin-bottom: 1rem; } .hero p { font-size: 1.25rem; margin-bottom: 2rem; opacity: 0.9; }
        .hero-actions { display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center; }

        .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; }
        .feature-card { background: var(--card); padding: 2rem; border-radius: var(--radius); border: 1px solid var(--border);
            text-align: center; cursor: pointer; transition: all 0.3s ease; }
        .feature-card:hover { transform: translateY(-8px); box-shadow: var(--shadow-xl); }
        .feature-icon { font-size: 3rem; margin-bottom: 1rem; }

        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 2rem; }
        .stat-card { background: var(--card); padding: 1.5rem; border-radius: var(--radius); border: 1px solid var(--border);
            display: flex; align-items: center; gap: 1rem; }
        .stat-icon { width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-size: 1.5rem; color: white; }
        .stat-icon.online { background: var(--success); } .stat-icon.warning { background: var(--warning); } .stat-icon.error { background: var(--error); }
        .stat-info h3 { font-size: 1.5rem; font-weight: 700; margin-bottom: 0.25rem; }
        .stat-info p { color: var(--muted-foreground); margin: 0; }

        .sensor-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; }
        .sensor-card { background: var(--card); padding: 1.5rem; border-radius: var(--radius); border: 1px solid var(--border);
            text-align: center; transition: all 0.3s ease; }
        .sensor-card:hover { transform: translateY(-4px); box-shadow: var(--shadow-lg); }
        .sensor-icon { font-size: 2rem; margin-bottom: 1rem; }
        .sensor-value { font-size: 2rem; font-weight: 700; color: var(--primary); margin-bottom: 0.5rem; }
        .sensor-label { color: var(--muted-foreground); font-weight: 500; }

        .login-container { min-height: 100vh; display: flex; align-items: center; justify-content: center;
            background: linear-gradient(135deg, var(--primary), var(--secondary)); padding: 2rem; }
        .login-card { background: var(--card); padding: 2rem; border-radius: var(--radius); box-shadow: var(--shadow-xl); width: 100%; max-width: 400px; }
        .form-group { margin-bottom: 1.5rem; }
        .form-label { display: block; margin-bottom: 0.5rem; font-weight: 500; color: var(--foreground); }
        .captcha-container { display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem; }
        .captcha-text { background: var(--muted); padding: 0.75rem 1rem; border-radius: var(--radius); font-family: monospace; font-weight: 700; user-select: none; }
        .captcha-refresh { background: var(--primary); color: white; border: none; padding: 0.5rem; border-radius: var(--radius); cursor: pointer; }

        .education-nav { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 2rem; justify-content: center; }
        .edu-tab { padding: 0.75rem 1.5rem; background: var(--muted); border: 1px solid var(--border); border-radius: var(--radius);
            cursor: pointer; transition: all 0.3s ease; }
        .edu-tab:hover, .edu-tab.active { background: var(--primary); color: white; }

        .team-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; }
        .team-member { background: var(--card); border-radius: var(--radius); overflow: hidden; border: 1px solid var(--border); transition: all 0.3s ease; }
        .team-member:hover { transform: translateY(-8px); box-shadow: var(--shadow-xl); }
        .member-photo { height: 200px; background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem; }
        .member-info { padding: 1.5rem; } .member-role { color: var(--primary); font-weight: 600; margin-bottom: 0.5rem; }

        @media (max-width: 768px) {
            .nav-links { display: none; } .hero h1 { font-size: 2rem; }
            .grid-cols-2, .grid-cols-3, .grid-cols-4 { grid-template-columns: 1fr; }
            .admin-layout { flex-direction: column; } .admin-sidebar { width: 100%; order: 2; } .admin-main { order: 1; }
            .floating-robot { bottom: 1rem; right: 1rem; width: 50px; height: 50px; font-size: 1.25rem; }
            .back-button { position: static; margin-bottom: 1rem; }
        }
        @media (max-width: 480px) {
            .px-6 { padding: 0 1rem; } .py-16 { padding: 2rem 0; }
            .feature-grid, .sensor-grid, .stats-grid, .team-grid, .responsive-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div style="text-align: center; color: white;">
            <div class="nav-logo mb-8">ü§ñ</div>
            <div class="loading-spinner"></div>
            <p class="text-lg">Memuat Dashboard GREENOVA...</p>
        </div>
    </div>

    <!-- Navigation -->
    <nav id="public-nav" class="navbar">
        <div class="nav-container">
            <a href="#" class="nav-brand" onclick="navigateTo('home')">
                <div class="nav-logo">ü§ñ</div>
                GREENOVA
            </a>
            <div class="nav-menu">
                <ul class="nav-links" id="nav-links">
                    <li><a href="#" class="nav-link active" onclick="navigateTo('home')">Beranda</a></li>
                    <li><a href="#" class="nav-link" onclick="navigateTo('air-quality')">Analisis Udara</a></li>
                    <li><a href="#" class="nav-link" onclick="navigateTo('live-map')">Peta Live</a></li>
                    <li><a href="#" class="nav-link" onclick="navigateTo('education')">Edukasi</a></li>
                    <li><a href="#" class="nav-link" onclick="navigateTo('about')">Tentang</a></li>
                    <li><a href="#" class="nav-link" onclick="navigateTo('support')">Dukungan</a></li>
                    <li><button class="btn btn-outline" onclick="showLogin()">Masuk Admin</button></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Admin Layout -->
    <div id="admin-layout" class="admin-layout hidden">
        <aside class="admin-sidebar">
            <div class="admin-header">
                <a href="#" class="nav-brand" onclick="navigateAdmin('admin-dashboard')">
                    <div class="nav-logo">ü§ñ</div>
                    GREENOVA Admin
                </a>
            </div>
            <nav class="admin-nav">
                <ul class="admin-nav-links">
                    <li><a href="#" class="admin-nav-link" data-page="admin-dashboard" onclick="navigateAdmin('admin-dashboard')"><span>üìä</span> Dashboard</a></li>
                    <li><a href="#" class="admin-nav-link" data-page="admin-history" onclick="navigateAdmin('admin-history')"><span>üìà</span> Riwayat</a></li>
                    <li><a href="#" class="admin-nav-link" data-page="admin-settings" onclick="navigateAdmin('admin-settings')"><span>‚öôÔ∏è</span> Pengaturan</a></li>
                </ul>
            </nav>
        </aside>
        <main class="admin-main">
            <div class="admin-topbar">
                <h1 id="admin-page-title">Dashboard Admin</h1>
                <div class="flex items-center gap-4">
                    <select id="robot-select" class="select" onchange="handleRobotChange()">
                        <option value="robot-001">GREENOVA-001</option>
                        <option value="robot-002">GREENOVA-002</option>
                        <option value="robot-003">GREENOVA-003</option>
                    </select>
                    <button class="btn btn-ghost" onclick="logout()">Keluar</button>
                </div>
            </div>
            <div class="admin-content" id="admin-content"></div>
        </main>
    </div>

    <!-- Back Button -->
    <div id="back-button" class="back-button hidden">
        <button class="btn btn-secondary" onclick="backToHome()">
            <span>‚Üê</span> Kembali ke Beranda
        </button>
    </div>

    <!-- Main Content -->
    <main id="main-content" class="min-h-screen"></main>

    <!-- Floating Robot Button -->
    <button id="floating-robot" class="floating-robot" onclick="navigateTo('ask-greenova')">ü§ñ</button>

    <script>
        // Application State
        let state = {
            currentPage: 'home',
            isAuthenticated: false,
            userInfo: null,
            selectedRobotId: 'robot-001',
            captchaAnswer: 0
        };

        // Data
        const ROBOT_DATA = [
            { id: 'robot-001', name: 'GREENOVA-001', location: 'Taman Kota', status: 'online', battery: 85, firmware: 'v2.1.3',
              currentData: { aqi: 45, pm25: 12.5, pm10: 25.3, co2: 380, temperature: 28.5, humidity: 65, noise: 45 } },
            { id: 'robot-002', name: 'GREENOVA-002', location: 'Area Industri', status: 'online', battery: 92, firmware: 'v2.1.3',
              currentData: { aqi: 52, pm25: 18.2, pm10: 35.1, co2: 420, temperature: 29.1, humidity: 68, noise: 55 } },
            { id: 'robot-003', name: 'GREENOVA-003', location: 'Pusat Kota', status: 'offline', battery: null, firmware: 'v2.1.2', currentData: null }
        ];

        const AI_RESPONSES = {
            'bagaimana cara mengatasi polusi udara': 'Ada beberapa cara efektif untuk mengatasi polusi udara:\n\n1. **Transportasi ramah lingkungan**: Gunakan kendaraan umum, sepeda, atau kendaraan listrik\n2. **Energi bersih**: Beralih ke energi terbarukan seperti solar panel\n3. **Penghijauan**: Tanam lebih banyak pohon dan tanaman\n4. **Industri bersih**: Dukung teknologi industri yang ramah lingkungan\n5. **Gaya hidup berkelanjutan**: Kurangi konsumsi, daur ulang, dan pilih produk eco-friendly\n\nDengan robot GREENOVA, kita dapat memantau efektivitas upaya-upaya ini secara real-time!',
            'apa itu pm2.5': 'PM2.5 adalah partikel polutan udara dengan diameter ‚â§ 2.5 mikrometer. Ini sangat berbahaya karena:\n\n‚Ä¢ **Ukuran sangat kecil**: 30x lebih kecil dari lebar rambut manusia\n‚Ä¢ **Mudah masuk paru-paru**: Dapat menembus ke alveoli dan masuk ke aliran darah\n‚Ä¢ **Sumber utama**: Kendaraan bermotor, industri, pembakaran biomassa, debu jalanan\n\n**Dampak kesehatan:**\n- Asma dan gangguan pernapasan\n- Penyakit jantung\n- Stroke\n- Kanker paru-paru\n\n**Level aman PM2.5:**\n- WHO: < 15 Œºg/m¬≥ (rata-rata tahunan)\n- Saat ini robot GREENOVA mendeteksi: 12.5 Œºg/m¬≥ (Baik)',
            'bagaimana cara kerja sensor greenova': 'Robot GREENOVA menggunakan sistem sensor canggih yang bekerja sebagai berikut:\n\n**Hardware:**\n‚Ä¢ ESP32-CAM: Mikrokontroler dengan kamera\n‚Ä¢ Sensor PM2.5/PM10: Menggunakan laser scattering\n‚Ä¢ Sensor CO‚ÇÇ: Teknologi NDIR (Non-Dispersive Infrared)\n‚Ä¢ DHT22: Sensor suhu dan kelembaban\n‚Ä¢ Sound sensor: Pengukur tingkat kebisingan\n\n**Proses Kerja:**\n1. **Pengukuran**: Sensor mengambil data setiap 30 detik\n2. **Kalibrasi**: Data dikalibrasi dengan standar internasional\n3. **Analisis AI**: Google Teachable Machine menganalisis pola\n4. **Transmisi**: Data dikirim via WiFi ke cloud server\n5. **Visualisasi**: Ditampilkan real-time di dashboard\n\n**Akurasi**: >95% dengan kalibrasi berkala'
        };

        // Initialize App
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                document.getElementById('loading-screen').classList.add('hidden');
                renderCurrentPage();
            }, 1000);
            generateCaptcha();
        });

        // Utility Functions
        const getAQIStatus = (aqi) => {
            if (aqi <= 50) return { class: 'aqi-good', label: 'Baik' };
            if (aqi <= 100) return { class: 'aqi-moderate', label: 'Sedang' };
            return { class: 'aqi-unhealthy', label: 'Tidak Sehat' };
        };

        const getRobotStatusIcon = (status) => status === 'online' 
            ? '<span class="status-dot status-online"></span>' 
            : '<span class="status-dot status-offline"></span>';

        // Navigation Functions
        const navigateTo = (page) => { state.currentPage = page; updateNavigation(); renderCurrentPage(); updateBackButton(); };
        const navigateAdmin = (page) => { state.currentPage = page; updateAdminNavigation(); renderAdminPage(); };
        const updateNavigation = () => {
            document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
            const activeLink = document.querySelector(`[onclick="navigateTo('${state.currentPage}')"]`);
            if (activeLink && activeLink.classList.contains('nav-link')) activeLink.classList.add('active');
        };
        const updateAdminNavigation = () => {
            document.querySelectorAll('.admin-nav-link').forEach(link => link.classList.remove('active'));
            const activeLink = document.querySelector(`[data-page="${state.currentPage}"]`);
            if (activeLink) activeLink.classList.add('active');
            const titles = { 'admin-dashboard': 'Dashboard Admin', 'admin-history': 'Riwayat Data', 'admin-settings': 'Pengaturan Sistem' };
            document.getElementById('admin-page-title').textContent = titles[state.currentPage] || 'Dashboard Admin';
        };
        const updateBackButton = () => {
            const backButton = document.getElementById('back-button');
            (['home', 'login'].includes(state.currentPage) || state.currentPage.startsWith('admin-')) 
                ? backButton.classList.add('hidden') : backButton.classList.remove('hidden');
        };
        const backToHome = () => navigateTo('home');
        const showLogin = () => navigateTo('login');
        const logout = () => {
            state.isAuthenticated = false; state.userInfo = null;
            document.getElementById('admin-layout').classList.add('hidden');
            document.getElementById('public-nav').classList.remove('hidden');
            document.getElementById('floating-robot').classList.remove('hidden');
            navigateTo('home');
        };
        const handleRobotChange = () => {
            state.selectedRobotId = document.getElementById('robot-select').value;
            if (state.currentPage.startsWith('admin-')) renderAdminPage();
        };

        // Authentication
        const generateCaptcha = () => {
            const num1 = Math.floor(Math.random() * 10) + 1, num2 = Math.floor(Math.random() * 10) + 1;
            state.captchaAnswer = num1 + num2;
            const captchaText = document.getElementById('captcha-text');
            if (captchaText) captchaText.textContent = `${num1} + ${num2} = ?`;
        };
        const refreshCaptcha = () => generateCaptcha();
        const handleLogin = (event) => {
            event.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const captcha = parseInt(document.getElementById('captcha').value);
            if (captcha !== state.captchaAnswer) { alert('Captcha salah!'); generateCaptcha(); return; }
            if ((username === 'admin' && password === 'admin123') || (username === 'operator' && password === 'operator123')) {
                state.isAuthenticated = true; state.userInfo = { username, email: username + '@greenova.com' };
                document.getElementById('public-nav').classList.add('hidden');
                document.getElementById('floating-robot').classList.add('hidden');
                document.getElementById('admin-layout').classList.remove('hidden');
                navigateAdmin('admin-dashboard');
            } else { alert('Username atau password salah!'); generateCaptcha(); }
        };
        const togglePassword = () => {
            const passwordInput = document.getElementById('password');
            passwordInput.type = passwordInput.type === 'password' ? 'text' : 'password';
        };

        // Chat Functions
        const sendMessage = () => {
            const input = document.getElementById('chat-input'), message = input.value.trim();
            if (message) { addMessage(message, 'user'); input.value = ''; setTimeout(() => addMessage(getAIResponse(message), 'ai'), 1000); }
        };
        const sendQuickQuestion = (question) => { addMessage(question, 'user'); setTimeout(() => addMessage(getAIResponse(question), 'ai'), 1000); };
        const addMessage = (text, sender) => {
            const messagesContainer = document.getElementById('chat-messages'), messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            messageDiv.innerHTML = `<div class="message-avatar">${sender === 'user' ? 'üë§' : 'ü§ñ'}</div><div class="message-content"><p>${text.replace(/\n/g, '<br>')}</p><small class="text-sm" style="opacity: 0.7">${new Date().toLocaleTimeString()}</small></div>`;
            messagesContainer.appendChild(messageDiv); messagesContainer.scrollTop = messagesContainer.scrollHeight;
        };
        const getAIResponse = (message) => {
            const lowerMessage = message.toLowerCase();
            for (const [key, response] of Object.entries(AI_RESPONSES)) {
                if (lowerMessage.includes(key)) return response;
            }
            return 'Terima kasih atas pertanyaan Anda! Saya adalah GREENOVA AI Assistant. Silakan tanyakan tentang:\n\n‚Ä¢ Kualitas udara dan AQI\n‚Ä¢ Polutan seperti PM2.5, PM10, CO‚ÇÇ\n‚Ä¢ Cara mengatasi polusi\n‚Ä¢ Teknologi sensor GREENOVA\n‚Ä¢ Tips hidup ramah lingkungan\n\nAda yang bisa saya bantu?';
        };
        const handleChatKeypress = (event) => { if (event.key === 'Enter') sendMessage(); };

        // Tab Functions
        const showEducationTab = (tabId) => {
            document.querySelectorAll('.edu-content').forEach(content => content.classList.add('hidden'));
            document.querySelectorAll('.edu-tab').forEach(tab => tab.classList.remove('active'));
            const selectedContent = document.getElementById(`edu-${tabId}`);
            if (selectedContent) selectedContent.classList.remove('hidden');
            const selectedTab = document.querySelector(`[onclick="showEducationTab('${tabId}')"]`);
            if (selectedTab) selectedTab.classList.add('active');
        };
        const showSupportTab = (tabId) => {
            document.querySelectorAll('.support-content-tab').forEach(content => content.classList.add('hidden'));
            document.querySelectorAll('.support-tab').forEach(tab => tab.classList.remove('active'));
            const selectedContent = document.getElementById(`support-${tabId}`);
            if (selectedContent) selectedContent.classList.remove('hidden');
            const selectedTab = document.querySelector(`[onclick="showSupportTab('${tabId}')"]`);
            if (selectedTab) selectedTab.classList.add('active');
        };
        const toggleFAQ = (element) => {
            const answer = element.nextElementSibling, toggle = element.querySelector('.faq-toggle');
            if (answer.style.display === 'block') { answer.style.display = 'none'; toggle.textContent = '+'; }
            else { answer.style.display = 'block'; toggle.textContent = '‚àí'; }
        };
        const submitSupportForm = (event) => { event.preventDefault(); alert('Pesan Anda telah terkirim!'); event.target.reset(); };

        // Page Rendering Functions
        const renderCurrentPage = () => {
            if (state.currentPage === 'login') { renderLoginPage(); return; }
            if (state.isAuthenticated && state.currentPage.startsWith('admin-')) return;
            const pages = { 'home': renderHomePage, 'ask-greenova': renderAskGreenovaPage, 'air-quality': renderAirQualityPage,
                'live-map': renderLiveMapPage, 'how-it-works': renderHowItWorksPage, 'education': renderEducationPage,
                'about': renderAboutPage, 'support': renderSupportPage };
            (pages[state.currentPage] || pages['home'])();
        };

        const renderHomePage = () => {
            document.getElementById('main-content').innerHTML = `
                <section class="hero">
                    <div class="max-w-6xl mx-auto px-6 text-center">
                        <h1>Selamat Datang di GREENOVA</h1>
                        <p class="text-xl mb-8">Sistem Pemantauan Lingkungan Cerdas dengan Robot ESP32-CAM dan AI Teachable Machine</p>
                        <div class="hero-actions">
                            <button class="btn btn-primary btn-lg" onclick="navigateTo('ask-greenova')">Tanya GREENOVA AI</button>
                            <button class="btn btn-outline btn-lg" onclick="navigateTo('air-quality')">Analisis Kualitas Udara</button>
                        </div>
                    </div>
                </section>
                <section class="py-16">
                    <div class="max-w-6xl mx-auto px-6">
                        <h2 class="text-3xl font-bold text-center mb-12">Fitur Utama GREENOVA</h2>
                        <div class="feature-grid">
                            ${[
                                { icon: 'üí®', title: 'Analisis Kualitas Udara', desc: 'Pemantauan real-time kualitas udara dengan sensor canggih', page: 'air-quality' },
                                { icon: 'üó∫Ô∏è', title: 'Peta Pemantauan Live', desc: 'Visualisasi lokasi robot dan data lingkungan secara real-time', page: 'live-map' },
                                { icon: 'ü§ñ', title: 'AI Assistant', desc: 'Chatbot cerdas untuk konsultasi lingkungan', page: 'ask-greenova' },
                                { icon: '‚öôÔ∏è', title: 'Cara Kerja', desc: 'Pelajari teknologi di balik GREENOVA', page: 'how-it-works' },
                                { icon: 'üìö', title: 'Edukasi Lingkungan', desc: 'Pelajari tentang pelestarian lingkungan', page: 'education' },
                                { icon: 'üë®‚Äçüíº', title: 'Dashboard Admin', desc: 'Akses admin untuk monitoring dan kontrol', page: 'login' }
                            ].map(item => `
                                <div class="feature-card" onclick="${item.page === 'login' ? 'showLogin()' : `navigateTo('${item.page}')`}">
                                    <div class="feature-icon">${item.icon}</div>
                                    <h3>${item.title}</h3>
                                    <p>${item.desc}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </section>
                <section class="py-16" style="background: var(--muted);">
                    <div class="max-w-6xl mx-auto px-6">
                        <div class="stats-grid">
                            ${[
                                { icon: 'ü§ñ', value: '3', label: 'Robot Aktif' },
                                { icon: '‚è∞', value: '24/7', label: 'Pemantauan' },
                                { icon: 'üéØ', value: '95%', label: 'Akurasi AI' },
                                { icon: 'üìä', value: '1000+', label: 'Data Points' }
                            ].map(stat => `
                                <div class="stat-card">
                                    <div class="stat-icon online">${stat.icon}</div>
                                    <div class="stat-info"><h3>${stat.value}</h3><p>${stat.label}</p></div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </section>
            `;
        };

        const renderLoginPage = () => {
            document.getElementById('main-content').innerHTML = `
                <div class="login-container">
                    <div class="login-card">
                        <div class="text-center mb-8">
                            <div class="nav-logo mb-4">ü§ñ</div>
                            <h2>Login Admin</h2>
                            <p style="color: var(--muted-foreground);">Masuk ke dashboard admin GREENOVA</p>
                        </div>
                        <form onsubmit="handleLogin(event)">
                            <div class="form-group">
                                <label class="form-label" for="username">Username</label>
                                <input type="text" id="username" class="input" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="password">Password</label>
                                <div class="relative">
                                    <input type="password" id="password" class="input" required>
                                    <button type="button" class="absolute right-3 top-3" style="color: var(--muted-foreground);" onclick="togglePassword()">üëÅÔ∏è</button>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Captcha</label>
                                <div class="captcha-container">
                                    <span id="captcha-text" class="captcha-text">5 + 3 = ?</span>
                                    <button type="button" class="captcha-refresh" onclick="refreshCaptcha()">üîÑ</button>
                                </div>
                                <input type="number" id="captcha" class="input" placeholder="Masukkan jawaban" required>
                            </div>
                            <div class="form-group">
                                <button type="submit" class="btn btn-primary w-full">Masuk</button>
                            </div>
                        </form>
                        <div class="text-center" style="margin-top: 1.5rem;">
                            <button class="btn btn-ghost" onclick="backToHome()">Kembali ke Beranda</button>
                        </div>
                        <div style="margin-top: 1.5rem; padding: 1rem; background: var(--muted); border-radius: var(--radius); font-size: 0.875rem;">
                            <strong>Demo Credentials:</strong><br>
                            Username: admin, Password: admin123<br>
                            Username: operator, Password: operator123
                        </div>
                    </div>
                </div>
            `;
        };

        const renderAskGreenovaPage = () => {
            document.getElementById('main-content').innerHTML = `
                <div class="max-w-4xl mx-auto px-6 py-8">
                    <div class="text-center mb-8">
                        <h1>Tanya GREENOVA AI</h1>
                        <p>Konsultasikan masalah lingkungan Anda dengan AI assistant kami</p>
                    </div>
                    <div class="chat-container">
                        <div class="chat-header">
                            <div class="message-avatar">ü§ñ</div>
                            <div>
                                <h3>GREENOVA AI Assistant</h3>
                                <p style="opacity: 0.9;">Online - Siap membantu Anda</p>
                            </div>
                        </div>
                        <div class="chat-messages" id="chat-messages">
                            <div class="message ai-message">
                                <div class="message-avatar">ü§ñ</div>
                                <div class="message-content">
                                    <p>Halo! Saya GREENOVA AI Assistant. Saya siap membantu Anda dengan pertanyaan seputar lingkungan, kualitas udara, dan teknologi pemantauan. Ada yang bisa saya bantu?</p>
                                    <small class="text-sm" style="opacity: 0.7;">Baru saja</small>
                                </div>
                            </div>
                        </div>
                        <div class="chat-input-container">
                            <div class="quick-questions">
                                <button class="quick-btn" onclick="sendQuickQuestion('Bagaimana cara mengatasi polusi udara?')">Cara mengatasi polusi udara?</button>
                                <button class="quick-btn" onclick="sendQuickQuestion('Apa itu PM2.5?')">Apa itu PM2.5?</button>
                                <button class="quick-btn" onclick="sendQuickQuestion('Bagaimana cara kerja sensor GREENOVA?')">Cara kerja sensor?</button>
                            </div>
                            <div class="chat-input">
                                <input type="text" id="chat-input" placeholder="Ketik pertanyaan Anda..." onkeypress="handleChatKeypress(event)">
                                <button class="send-btn" onclick="sendMessage()">Kirim</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        };

        const renderAirQualityPage = () => {
            const robot = ROBOT_DATA.find(r => r.id === state.selectedRobotId) || ROBOT_DATA[0];
            const aqiStatus = getAQIStatus(robot.currentData.aqi);
            document.getElementById('main-content').innerHTML = `
                <div class="max-w-6xl mx-auto px-6 py-8">
                    <div class="text-center mb-12">
                        <h1>Analisis Kualitas Udara</h1>
                        <p>Pemantauan dan analisis kualitas udara real-time dari robot GREENOVA</p>
                    </div>
                    <div class="mb-8">
                        <div class="card p-8 text-center ${aqiStatus.class}">
                            <div style="font-size: 4rem; font-weight: 700; margin-bottom: 1rem;">${robot.currentData.aqi}</div>
                            <div class="text-2xl font-semibold mb-2">AQI - ${aqiStatus.label}</div>
                            <p class="text-lg" style="opacity: 0.9;">Kualitas udara baik untuk aktivitas outdoor</p>
                        </div>
                    </div>
                    <div class="sensor-grid mb-12">
                        ${[
                            { icon: 'üí®', value: robot.currentData.pm25, label: 'PM2.5 (Œºg/m¬≥)' },
                            { icon: 'üå´Ô∏è', value: robot.currentData.pm10, label: 'PM10 (Œºg/m¬≥)' },
                            { icon: '‚òÅÔ∏è', value: robot.currentData.co2, label: 'CO‚ÇÇ (ppm)' },
                            { icon: 'üå°Ô∏è', value: robot.currentData.temperature, label: 'Suhu (¬∞C)' },
                            { icon: 'üíß', value: robot.currentData.humidity, label: 'Kelembaban (%)' },
                            { icon: 'üîä', value: robot.currentData.noise, label: 'Kebisingan (dB)' }
                        ].map(sensor => `
                            <div class="sensor-card">
                                <div class="sensor-icon">${sensor.icon}</div>
                                <div class="sensor-value">${sensor.value}</div>
                                <div class="sensor-label">${sensor.label}</div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="card p-6 mb-8">
                        <h3 class="text-xl font-semibold mb-4">Trend AQI 24 Jam</h3>
                        <div style="height: 16rem; background: var(--muted); border-radius: var(--radius); display: flex; align-items: center; justify-content: center;">
                            <p style="color: var(--muted-foreground);">üìà Grafik AQI akan ditampilkan di sini</p>
                        </div>
                    </div>
                    <div class="card p-6">
                        <h3 class="text-xl font-semibold mb-4">Rekomendasi</h3>
                        <div style="display: flex; flex-direction: column; gap: 1rem;">
                            ${[
                                { icon: '‚úÖ', text: 'Kualitas udara baik, aman untuk aktivitas outdoor', bg: 'rgba(16, 185, 129, 0.1)' },
                                { icon: 'üö∂‚Äç‚ôÇÔ∏è', text: 'Waktu yang tepat untuk jogging atau olahraga luar ruangan', bg: 'rgba(16, 185, 129, 0.1)' },
                                { icon: 'üí°', text: 'Pertahankan ventilasi ruangan tetap baik', bg: 'rgba(34, 197, 94, 0.1)' }
                            ].map(rec => `
                                <div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: ${rec.bg}; border-radius: var(--radius);">
                                    <span style="font-size: 1.5rem;">${rec.icon}</span>
                                    <p>${rec.text}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        };

        const renderLiveMapPage = () => {
            document.getElementById('main-content').innerHTML = `
                <div class="max-w-6xl mx-auto px-6 py-8">
                    <div class="text-center mb-12">
                        <h1>Peta Pemantauan Live</h1>
                        <p>Lokasi real-time robot GREENOVA dan data lingkungan</p>
                    </div>
                    <div class="card p-6 mb-8">
                        <div style="display: flex; flex-wrap: wrap; gap: 1rem; align-items: center; justify-content: space-between; margin-bottom: 1.5rem;">
                            <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                                <button class="btn btn-primary btn-sm">Semua</button>
                                <button class="btn btn-ghost btn-sm">AQI</button>
                                <button class="btn btn-ghost btn-sm">Suhu</button>
                                <button class="btn btn-ghost btn-sm">Kelembaban</button>
                            </div>
                            <select class="select">
                                <option>Real-time</option>
                                <option>1 Jam Terakhir</option>
                                <option>24 Jam Terakhir</option>
                            </select>
                        </div>
                        <div style="height: 25rem; background: linear-gradient(135deg, #e0f2fe, #f0f9ff); border-radius: var(--radius); position: relative; overflow: hidden; margin-bottom: 1.5rem;">
                            <div style="position: absolute; top: 30%; left: 40%; display: flex; flex-direction: column; align-items: center; cursor: pointer;">
                                <div style="width: 40px; height: 40px; background: linear-gradient(135deg, var(--primary), var(--secondary)); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.25rem; box-shadow: var(--shadow-lg); animation: pulse 2s infinite;">ü§ñ</div>
                                <div style="font-size: 0.75rem; font-weight: 600; color: var(--foreground); margin-top: 0.5rem; background: var(--card); padding: 0.25rem 0.5rem; border-radius: 0.25rem; box-shadow: var(--shadow);">GREENOVA-001<br>AQI: 45</div>
                            </div>
                            <div style="position: absolute; top: 60%; left: 60%; display: flex; flex-direction: column; align-items: center; cursor: pointer;">
                                <div style="width: 40px; height: 40px; background: linear-gradient(135deg, var(--primary), var(--secondary)); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.25rem; box-shadow: var(--shadow-lg); animation: pulse 2s infinite;">ü§ñ</div>
                                <div style="font-size: 0.75rem; font-weight: 600; color: var(--foreground); margin-top: 0.5rem; background: var(--card); padding: 0.25rem 0.5rem; border-radius: 0.25rem; box-shadow: var(--shadow);">GREENOVA-002<br>AQI: 52</div>
                            </div>
                            <div style="position: absolute; top: 45%; left: 75%; display: flex; flex-direction: column; align-items: center; cursor: pointer;">
                                <div style="width: 40px; height: 40px; background: var(--error); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.25rem; box-shadow: var(--shadow-lg);">ü§ñ</div>
                                <div style="font-size: 0.75rem; font-weight: 600; color: var(--foreground); margin-top: 0.5rem; background: var(--card); padding: 0.25rem 0.5rem; border-radius: 0.25rem; box-shadow: var(--shadow);">GREENOVA-003<br>Offline</div>
                            </div>
                            <div style="position: absolute; inset: 0; display: flex; align-items: center; justify-content: center;">
                                <p style="font-size: 1.5rem; color: var(--muted-foreground);">üó∫Ô∏è Peta Interaktif Jakarta</p>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-6">
                            <div>
                                <h3 class="font-semibold mb-4">Legenda</h3>
                                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                    ${[
                                        { color: 'var(--success)', label: 'Baik (0-50)' },
                                        { color: 'var(--warning)', label: 'Sedang (51-100)' },
                                        { color: 'var(--error)', label: 'Tidak Sehat (101+)' }
                                    ].map(item => `
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <div style="width: 1rem; height: 1rem; background: ${item.color}; border-radius: var(--radius);"></div>
                                            <span class="text-sm">${item.label}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                            <div>
                                <h3 class="font-semibold mb-4">Status Robot</h3>
                                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                    ${ROBOT_DATA.map(robot => `
                                        <div style="display: flex; align-items: center; justify-content: space-between; padding: 0.5rem; background: var(--muted); border-radius: var(--radius);">
                                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                                ${getRobotStatusIcon(robot.status)}
                                                <span class="font-medium">${robot.name}</span>
                                            </div>
                                            <span class="text-sm" style="color: var(--muted-foreground);">${robot.location}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        };

        const renderHowItWorksPage = () => {
            document.getElementById('main-content').innerHTML = `
                <div class="max-w-6xl mx-auto px-6 py-8">
                    <div class="text-center mb-12">
                        <h1>Cara Kerja GREENOVA</h1>
                        <p>Teknologi di balik sistem pemantauan lingkungan cerdas</p>
                    </div>
                    <div class="responsive-grid mb-12">
                        ${[
                            { icon: 'üì∑', title: 'ESP32-CAM', desc: 'Mikrokontroler dengan kamera terintegrasi untuk pengambilan gambar dan data visual lingkungan' },
                            { icon: 'üß†', title: 'Teachable Machine', desc: 'Model AI Google untuk klasifikasi gambar dan deteksi kondisi lingkungan otomatis' },
                            { icon: 'üì°', title: 'IoT Sensors', desc: 'Array sensor untuk mengukur kualitas udara, suhu, kelembaban, dan parameter lingkungan lainnya' }
                        ].map(item => `
                            <div class="card p-6 text-center">
                                <div style="font-size: 2.5rem; margin-bottom: 1rem;">${item.icon}</div>
                                <h3 class="font-semibold mb-2">${item.title}</h3>
                                <p style="color: var(--muted-foreground);">${item.desc}</p>
                            </div>
                        `).join('')}
                    </div>
                    <div class="card p-8 mb-12">
                        <h2 class="text-2xl font-bold text-center mb-8">Alur Kerja Sistem</h2>
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                            ${[
                                { num: '1', title: 'Pengumpulan Data', desc: 'Robot mengumpulkan data dari sensor dan mengambil gambar lingkungan' },
                                { num: '2', title: 'Analisis AI', desc: 'Data dianalisis menggunakan Teachable Machine untuk identifikasi kondisi' },
                                { num: '3', title: 'Transmisi Data', desc: 'Hasil dikirim ke server cloud melalui koneksi WiFi' },
                                { num: '4', title: 'Dashboard Update', desc: 'Data real-time ditampilkan di dashboard untuk monitoring' }
                            ].map(step => `
                                <div class="text-center">
                                    <div style="width: 4rem; height: 4rem; background: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: 700; margin: 0 auto 1rem;">${step.num}</div>
                                    <h3 class="font-semibold mb-2">${step.title}</h3>
                                    <p class="text-sm" style="color: var(--muted-foreground);">${step.desc}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        ${[
                            { title: 'Hardware', items: ['ESP32-CAM Module', 'PM2.5/PM10 Sensor', 'CO‚ÇÇ Sensor (MH-Z19)', 'DHT22 (Suhu & Kelembaban)', 'Sound Level Meter', 'GPS Module', 'Solar Panel & Battery'] },
                            { title: 'Software', items: ['Arduino IDE Programming', 'Google Teachable Machine', 'Real-time Database', 'Web Dashboard', 'Mobile App', 'API REST Services', 'Cloud Storage'] },
                            { title: 'Konektivitas', items: ['WiFi 802.11 b/g/n', 'Bluetooth 4.2', 'MQTT Protocol', 'HTTP/HTTPS', 'WebSocket', 'OTA Updates', 'Remote Configuration'] }
                        ].map(section => `
                            <div class="card p-6">
                                <h3 class="font-semibold mb-4">${section.title}</h3>
                                <ul style="display: flex; flex-direction: column; gap: 0.5rem; font-size: 0.875rem; color: var(--muted-foreground);">
                                    ${section.items.map(item => `<li>‚Ä¢ ${item}</li>`).join('')}
                                </ul>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        };

        const renderEducationPage = () => {
            document.getElementById('main-content').innerHTML = `
                <div class="max-w-6xl mx-auto px-6 py-8">
                    <div class="text-center mb-12">
                        <h1>Edukasi Lingkungan</h1>
                        <p>Pelajari tentang kualitas udara, dampak lingkungan, dan cara menjaga kelestarian alam</p>
                    </div>
                    <div class="education-nav">
                        <button class="edu-tab active" onclick="showEducationTab('air-quality')">Kualitas Udara</button>
                        <button class="edu-tab" onclick="showEducationTab('environment')">Dampak Lingkungan</button>
                        <button class="edu-tab" onclick="showEducationTab('conservation')">Konservasi</button>
                        <button class="edu-tab" onclick="showEducationTab('tips')">Tips Sehari-hari</button>
                    </div>
                    <div id="edu-air-quality" class="edu-content">
                        <div class="card p-8">
                            <h2 class="text-2xl font-bold mb-6">Memahami Kualitas Udara</h2>
                            <div class="mb-8">
                                <h3 class="text-xl font-semibold mb-4">Apa itu AQI (Air Quality Index)?</h3>
                                <p class="mb-4">AQI adalah indeks yang mengukur seberapa bersih atau terpolusi udara di suatu area. Skala AQI berkisar dari 0-500, dimana semakin tinggi nilainya, semakin berbahaya bagi kesehatan.</p>
                                <div style="display: grid; gap: 1rem; margin-top: 1rem;">
                                    ${[
                                        { range: '0-50', label: 'Baik', desc: 'Aman untuk semua aktivitas', class: 'aqi-good' },
                                        { range: '51-100', label: 'Sedang', desc: 'Dapat diterima untuk kebanyakan orang', class: 'aqi-moderate' },
                                        { range: '101-150', label: 'Tidak Sehat (Sensitif)', desc: 'Kelompok sensitif mulai terpengaruh', class: 'aqi-unhealthy' }
                                    ].map(level => `
                                        <div class="${level.class}" style="padding: 1rem; border-radius: var(--radius); display: flex; align-items: center; justify-content: space-between; font-weight: 500;">
                                            <span class="font-semibold">${level.range}: ${level.label}</span>
                                            <span>${level.desc}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                            <div>
                                <h3 class="text-xl font-semibold mb-4">Polutan Utama</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    ${[
                                        { name: 'PM2.5', desc: 'Partikel halus dengan diameter ‚â§ 2.5 mikrometer. Dapat masuk ke paru-paru dan aliran darah.' },
                                        { name: 'PM10', desc: 'Partikel dengan diameter ‚â§ 10 mikrometer. Dapat menyebabkan iritasi mata dan saluran pernapasan.' },
                                        { name: 'CO‚ÇÇ', desc: 'Karbon dioksida. Gas rumah kaca utama yang berkontribusi pada pemanasan global.' },
                                        { name: 'NO‚ÇÇ', desc: 'Nitrogen dioksida. Dapat menyebabkan iritasi paru-paru dan menurunkan daya tahan tubuh.' }
                                    ].map(pollutant => `
                                        <div class="card p-4">
                                            <h4 class="font-semibold mb-2">${pollutant.name}</h4>
                                            <p class="text-sm" style="color: var(--muted-foreground);">${pollutant.desc}</p>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="edu-environment" class="edu-content hidden">
                        <div class="card p-8">
                            <h2 class="text-2xl font-bold mb-6">Dampak Lingkungan</h2>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                ${[
                                    { icon: 'ü´Å', title: 'Kesehatan', items: ['Penyakit pernapasan', 'Penyakit jantung', 'Kanker paru-paru', 'Gangguan neurologis'] },
                                    { icon: 'üåç', title: 'Lingkungan', items: ['Hujan asam', 'Kerusakan ozon', 'Perubahan iklim', 'Kematian ekosistem'] },
                                    { icon: 'üí∞', title: 'Ekonomi', items: ['Biaya kesehatan tinggi', 'Penurunan produktivitas', 'Kerusakan properti', 'Loss pariwisata'] }
                                ].map(impact => `
                                    <div class="text-center">
                                        <div style="font-size: 2.5rem; margin-bottom: 1rem;">${impact.icon}</div>
                                        <h3 class="font-semibold mb-4">${impact.title}</h3>
                                        <ul style="font-size: 0.875rem; color: var(--muted-foreground); display: flex; flex-direction: column; gap: 0.25rem;">
                                            ${impact.items.map(item => `<li>‚Ä¢ ${item}</li>`).join('')}
                                        </ul>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                    <div id="edu-conservation" class="edu-content hidden">
                        <div class="card p-8">
                            <h2 class="text-2xl font-bold mb-6">Konservasi dan Solusi</h2>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                ${[
                                    { title: 'Teknologi Bersih', items: [
                                        { icon: 'üîã', title: 'Energi Terbarukan', desc: 'Panel surya, turbin angin, dan hidroelektrik' },
                                        { icon: 'üöó', title: 'Kendaraan Listrik', desc: 'Mengurangi emisi dari transportasi' },
                                        { icon: 'üè≠', title: 'Industri Hijau', desc: 'Proses produksi ramah lingkungan' }
                                    ]},
                                    { title: 'Konservasi Alam', items: [
                                        { icon: 'üå≥', title: 'Reforestasi', desc: 'Penanaman pohon untuk menyerap CO‚ÇÇ' },
                                        { icon: 'üèûÔ∏è', title: 'Taman Kota', desc: 'Ruang hijau untuk filter udara alami' },
                                        { icon: 'üåä', title: 'Konservasi Air', desc: 'Menjaga kualitas dan ketersediaan air' }
                                    ]}
                                ].map(category => `
                                    <div>
                                        <h3 class="font-semibold mb-4">${category.title}</h3>
                                        <div style="display: flex; flex-direction: column; gap: 1rem;">
                                            ${category.items.map(item => `
                                                <div style="display: flex; align-items: flex-start; gap: 0.75rem;">
                                                    <span style="font-size: 1.5rem;">${item.icon}</span>
                                                    <div>
                                                        <h4 class="font-medium">${item.title}</h4>
                                                        <p class="text-sm" style="color: var(--muted-foreground);">${item.desc}</p>
                                                    </div>
                                                </div>
                                            `).join('')}
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                    <div id="edu-tips" class="edu-content hidden">
                        <div class="card p-8">
                            <h2 class="text-2xl font-bold mb-6">Tips Sehari-hari</h2>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                ${[
                                    { title: 'üè† Di Rumah', tips: ['Gunakan lampu LED hemat energi', 'Matikan peralatan elektronik saat tidak digunakan', 'Pilih AC dengan teknologi inverter', 'Gunakan ventilasi alami', 'Tanam tanaman indoor untuk filter udara', 'Kurangi penggunaan bahan kimia berbahaya', 'Pilah sampah dengan benar', 'Gunakan produk ramah lingkungan'] },
                                    { title: 'üöó Transportasi', tips: ['Gunakan transportasi umum', 'Bersepeda atau jalan kaki untuk jarak dekat', 'Carpooling dengan teman atau keluarga', 'Rawat kendaraan secara teratur', 'Pertimbangkan kendaraan listrik', 'Kurangi perjalanan yang tidak perlu', 'Gunakan aplikasi ride-sharing', 'Pilih rute terpendek'] }
                                ].map(category => `
                                    <div>
                                        <h3 class="font-semibold mb-4">${category.title}</h3>
                                        <ul style="display: flex; flex-direction: column; gap: 0.5rem; font-size: 0.875rem; color: var(--muted-foreground);">
                                            ${category.tips.map(tip => `<li>‚Ä¢ ${tip}</li>`).join('')}
                                        </ul>
                                    </div>
                                `).join('')}
                            </div>
                            <div style="margin-top: 2rem; text-align: center;">
                                <h3 class="font-semibold mb-4">Mulai Dari Hal Kecil</h3>
                                <p class="mb-6">Setiap tindakan kecil yang kita lakukan dapat berkontribusi besar untuk lingkungan. Mari bersama-sama menjaga bumi untuk generasi mendatang!</p>
                                <div style="display: flex; gap: 1rem; justify-content: center;">
                                    <button class="btn btn-primary" onclick="navigateTo('ask-greenova')">Konsultasi dengan AI</button>
                                    <button class="btn btn-outline" onclick="navigateTo('air-quality')">Cek Kualitas Udara</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        };

        const renderAboutPage = () => {
            document.getElementById('main-content').innerHTML = `
                <div class="max-w-6xl mx-auto px-6 py-8">
                    <div class="text-center mb-12">
                        <h1>Tentang GREENOVA</h1>
                        <p>Inovasi teknologi untuk masa depan lingkungan yang berkelanjutan</p>
                    </div>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16">
                        <div>
                            <h2 class="text-2xl font-bold mb-6">Visi & Misi</h2>
                            <div style="display: flex; flex-direction: column; gap: 1.5rem;">
                                <div class="card p-6">
                                    <h3 class="font-semibold mb-3">Visi</h3>
                                    <p style="color: var(--muted-foreground);">Menjadi platform teknologi terdepan dalam pemantauan dan pelestarian lingkungan melalui inovasi IoT dan AI untuk menciptakan dunia yang lebih bersih dan berkelanjutan.</p>
                                </div>
                                <div class="card p-6">
                                    <h3 class="font-semibold mb-3">Misi</h3>
                                    <ul style="color: var(--muted-foreground); display: flex; flex-direction: column; gap: 0.5rem;">
                                        <li>‚Ä¢ Mengembangkan teknologi monitoring lingkungan yang akurat dan terjangkau</li>
                                        <li>‚Ä¢ Memberikan data real-time untuk mendukung pengambilan keputusan berbasis data</li>
                                        <li>‚Ä¢ Meningkatkan kesadaran masyarakat tentang pentingnya kualitas lingkungan</li>
                                        <li>‚Ä¢ Mendukung upaya konservasi dan mitigasi dampak lingkungan</li>
                                        <li>‚Ä¢ Membangun ekosistem teknologi hijau yang berkelanjutan</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center;">
                            <div style="width: 100%; height: 16rem; background: linear-gradient(to bottom right, var(--primary), var(--secondary)); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center;">
                                <div class="text-center" style="color: white;">
                                    <div style="font-size: 4rem; margin-bottom: 1rem;">üå±</div>
                                    <h3 class="text-xl font-semibold">Teknologi Hijau</h3>
                                    <p>Masa Depan Berkelanjutan</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mb-16">
                        <h2 class="text-2xl font-bold text-center mb-8">Nilai-nilai Kami</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            ${[
                                { icon: 'üåç', title: 'Berkelanjutan', desc: 'Komitmen penuh terhadap pengembangan teknologi yang mendukung kelestarian lingkungan' },
                                { icon: 'üî¨', title: 'Inovatif', desc: 'Selalu menghadirkan solusi teknologi terdepan untuk tantangan lingkungan' },
                                { icon: 'üìä', title: 'Akurat', desc: 'Menyediakan data dan informasi yang tepat, akurat, dan dapat diandalkan' },
                                { icon: 'ü§ù', title: 'Kolaboratif', desc: 'Bekerja sama dengan berbagai pihak untuk mencapai tujuan bersama' },
                                { icon: 'üí°', title: 'Edukatif', desc: 'Memberikan edukasi dan meningkatkan kesadaran lingkungan masyarakat' },
                                { icon: 'üöÄ', title: 'Progresif', desc: 'Terus berkembang dan beradaptasi dengan kemajuan teknologi' }
                            ].map(value => `
                                <div class="card p-6 text-center">
                                    <div style="font-size: 2.5rem; margin-bottom: 1rem;">${value.icon}</div>
                                    <h3 class="font-semibold mb-2">${value.title}</h3>
                                    <p class="text-sm" style="color: var(--muted-foreground);">${value.desc}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    <div class="mb-16">
                        <h2 class="text-2xl font-bold text-center mb-8">Tim GREENOVA</h2>
                        <div class="team-grid">
                            ${[
                                { avatar: 'üë®‚Äçüíº', name: 'Dr. Budi Santoso', role: 'Chief Executive Officer', desc: 'Expert in Environmental Engineering with 15+ years experience in sustainable technology development.' },
                                { avatar: 'üë©‚Äçüíª', name: 'Sarah Wijaya, M.T.', role: 'Chief Technology Officer', desc: 'IoT and AI specialist focused on developing smart environmental monitoring solutions.' },
                                { avatar: 'üë®‚Äçüíª', name: 'Ahmad Fauzi', role: 'Lead Developer', desc: 'Full-stack developer with expertise in React, Node.js, and embedded systems programming.' },
                                { avatar: 'üë©‚Äçüî¨', name: 'Lisa Chen, Ph.D.', role: 'Data Scientist', desc: 'Machine learning expert specializing in environmental data analysis and predictive modeling.' }
                            ].map(member => `
                                <div class="team-member">
                                    <div class="member-photo">${member.avatar}</div>
                                    <div class="member-info">
                                        <h3 class="font-semibold">${member.name}</h3>
                                        <p class="member-role">${member.role}</p>
                                        <p class="text-sm" style="color: var(--muted-foreground);">${member.desc}</p>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    <div class="mb-16">
                        <h2 class="text-2xl font-bold text-center mb-8">Pencapaian & Penghargaan</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            ${[
                                { icon: 'üèÜ', title: 'Best Innovation Award 2023', desc: 'Indonesia Environmental Technology Competition' },
                                { icon: 'üåü', title: 'Top 10 Green Tech Startup', desc: 'Southeast Asia Sustainability Summit 2023' },
                                { icon: 'üìú', title: 'ISO 14001 Certified', desc: 'Environmental Management System' },
                                { icon: 'ü§ù', title: 'Partnership with BMKG', desc: 'Official collaboration for weather data integration' }
                            ].map(achievement => `
                                <div class="card p-6" style="display: flex; align-items: center; gap: 1rem;">
                                    <div style="font-size: 2.5rem;">${achievement.icon}</div>
                                    <div>
                                        <h3 class="font-semibold">${achievement.title}</h3>
                                        <p class="text-sm" style="color: var(--muted-foreground);">${achievement.desc}</p>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    <div class="card p-8 text-center">
                        <h2 class="text-2xl font-bold mb-6">Hubungi Kami</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                            ${[
                                { icon: 'üìç', title: 'Alamat', info: 'Jl. Teknologi Hijau No. 123<br>Jakarta 12345, Indonesia' },
                                { icon: 'üìû', title: 'Telepon', info: '+62 21 1234 5678' },
                                { icon: '‚úâÔ∏è', title: 'Email', info: 'hello@greenova.com' },
                                { icon: 'üåê', title: 'Website', info: 'www.greenova.com' }
                            ].map(contact => `
                                <div>
                                    <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">${contact.icon}</div>
                                    <h3 class="font-semibold mb-1">${contact.title}</h3>
                                    <p class="text-sm" style="color: var(--muted-foreground);">${contact.info}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        };

        const renderSupportPage = () => {
            document.getElementById('main-content').innerHTML = `
                <div class="max-w-6xl mx-auto px-6 py-8">
                    <div class="text-center mb-12">
                        <h1>Pusat Bantuan & Dukungan</h1>
                        <p>Kami siap membantu Anda dengan pertanyaan dan kendala teknis</p>
                    </div>
                    <div class="mb-8">
                        <div class="education-nav">
                            <button class="edu-tab active support-tab" onclick="showSupportTab('faq')">FAQ</button>
                            <button class="edu-tab support-tab" onclick="showSupportTab('contact')">Hubungi Kami</button>
                            <button class="edu-tab support-tab" onclick="showSupportTab('guides')">Panduan</button>
                            <button class="edu-tab support-tab" onclick="showSupportTab('troubleshoot')">Troubleshooting</button>
                        </div>
                    </div>
                    <div id="support-faq" class="support-content-tab">
                        <div class="card p-8">
                            <h2 class="text-2xl font-bold mb-6">Pertanyaan yang Sering Diajukan</h2>
                            <div style="display: flex; flex-direction: column; gap: 1.5rem;">
                                <div>
                                    <h3 class="font-semibold mb-4">Umum</h3>
                                    <div style="display: flex; flex-direction: column; gap: 1rem;">
                                        ${[
                                            { q: 'Apa itu GREENOVA?', a: 'GREENOVA adalah platform monitoring lingkungan berbasis IoT yang menggunakan robot ESP32-CAM dan AI untuk memantau kualitas udara dan kondisi lingkungan secara real-time.' },
                                            { q: 'Bagaimana cara kerja robot GREENOVA?', a: 'Robot GREENOVA menggunakan berbagai sensor untuk mengukur kualitas udara, suhu, kelembaban, dan parameter lingkungan lainnya. Data kemudian dianalisis menggunakan AI dan ditampilkan di dashboard web.' },
                                            { q: 'Apakah data GREENOVA akurat?', a: 'Ya, robot GREENOVA menggunakan sensor berkualitas tinggi dan algoritma AI dengan akurasi 95%. Data juga dikalibrasi secara berkala untuk memastikan akurasi.' }
                                        ].map(faq => `
                                            <div style="border: 1px solid var(--border); border-radius: var(--radius-lg);">
                                                <button class="faq-question" style="width: 100%; padding: 1rem; text-align: left; font-weight: 500; display: flex; justify-content: space-between; align-items: center; background: none; border: none; cursor: pointer;" onclick="toggleFAQ(this)">
                                                    ${faq.q}
                                                    <span class="faq-toggle">+</span>
                                                </button>
                                                <div class="faq-answer" style="padding: 1rem; padding-top: 0; display: none;">
                                                    <p style="color: var(--muted-foreground);">${faq.a}</p>
                                                </div>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>
                                <div>
                                    <h3 class="font-semibold mb-4">Teknis</h3>
                                    <div style="display: flex; flex-direction: column; gap: 1rem;">
                                        ${[
                                            { q: 'Bagaimana cara mengakses dashboard admin?', a: 'Klik tombol "Masuk Admin" di bagian atas halaman, kemudian masukkan username dan password yang telah terdaftar. Anda juga perlu menyelesaikan verifikasi captcha.' },
                                            { q: 'Mengapa robot menunjukkan status offline?', a: 'Robot bisa offline karena masalah koneksi internet, baterai lemah, atau maintenance. Cek status koneksi dan hubungi support jika masalah berlanjut.' }
                                        ].map(faq => `
                                            <div style="border: 1px solid var(--border); border-radius: var(--radius-lg);">
                                                <button class="faq-question" style="width: 100%; padding: 1rem; text-align: left; font-weight: 500; display: flex; justify-content: space-between; align-items: center; background: none; border: none; cursor: pointer;" onclick="toggleFAQ(this)">
                                                    ${faq.q}
                                                    <span class="faq-toggle">+</span>
                                                </button>
                                                <div class="faq-answer" style="padding: 1rem; padding-top: 0; display: none;">
                                                    <p style="color: var(--muted-foreground);">${faq.a}</p>
                                                </div>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="support-contact" class="support-content-tab hidden">
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            <div class="card p-6">
                                <h2 class="text-2xl font-bold mb-6">Hubungi Tim Support</h2>
                                <div style="display: flex; flex-direction: column; gap: 1.5rem;">
                                    ${[
                                        { icon: 'üìû', title: 'Telepon Support', info: '+62 21 1234 5678', hours: 'Senin - Jumat, 08:00 - 17:00 WIB' },
                                        { icon: '‚úâÔ∏è', title: 'Email Support', info: 'support@greenova.com', hours: 'Respon dalam 24 jam' },
                                        { icon: 'üí¨', title: 'Live Chat', info: '<button class="btn btn-primary btn-sm">Mulai Chat</button>', hours: '24/7 tersedia' }
                                    ].map(contact => `
                                        <div style="display: flex; align-items: center; gap: 1rem;">
                                            <div style="font-size: 1.5rem;">${contact.icon}</div>
                                            <div>
                                                <h3 class="font-semibold">${contact.title}</h3>
                                                <p style="color: var(--muted-foreground);">${contact.info}</p>
                                                <p class="text-sm" style="color: var(--muted-foreground);">${contact.hours}</p>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                            <div class="card p-6">
                                <h3 class="text-xl font-semibold mb-4">Kirim Pesan</h3>
                                <form onsubmit="submitSupportForm(event)">
                                    <div class="form-group">
                                        <label class="form-label">Nama Lengkap *</label>
                                        <input type="text" class="input" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Email *</label>
                                        <input type="email" class="input" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Kategori *</label>
                                        <select class="select" required>
                                            <option value="">Pilih kategori</option>
                                            <option value="technical">Masalah Teknis</option>
                                            <option value="account">Akun & Login</option>
                                            <option value="data">Data & Laporan</option>
                                            <option value="other">Lainnya</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Pesan *</label>
                                        <textarea class="textarea" rows="4" required placeholder="Jelaskan masalah atau pertanyaan Anda dengan detail..."></textarea>
                                    </div>
                                    <button type="submit" class="btn btn-primary w-full">Kirim Pesan</button>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div id="support-guides" class="support-content-tab hidden">
                        <div class="card p-8">
                            <h2 class="text-2xl font-bold mb-6">Panduan Pengguna</h2>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                ${[
                                    { icon: 'üìñ', title: 'Panduan Dasar', desc: 'Pelajari cara menggunakan fitur-fitur dasar GREENOVA' },
                                    { icon: 'üë®‚Äçüíº', title: 'Panduan Admin', desc: 'Cara menggunakan dashboard admin dan fitur management' },
                                    { icon: 'üìä', title: 'Interpretasi Data', desc: 'Memahami data sensor dan hasil analisis lingkungan' },
                                    { icon: 'ü§ñ', title: 'Setup Robot', desc: 'Panduan instalasi dan konfigurasi robot GREENOVA' },
                                    { icon: 'üîß', title: 'API Documentation', desc: 'Dokumentasi lengkap untuk integrasi dengan sistem lain' },
                                    { icon: 'üì±', title: 'Mobile App', desc: 'Cara menggunakan aplikasi mobile GREENOVA' }
                                ].map(guide => `
                                    <div class="card p-6 text-center">
                                        <div style="font-size: 2.5rem; margin-bottom: 1rem;">${guide.icon}</div>
                                        <h3 class="font-semibold mb-2">${guide.title}</h3>
                                        <p class="text-sm mb-4" style="color: var(--muted-foreground);">${guide.desc}</p>
                                        <button class="btn btn-outline btn-sm">Buka Panduan</button>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                    <div id="support-troubleshoot" class="support-content-tab hidden">
                        <div class="card p-8">
                            <h2 class="text-2xl font-bold mb-6">Troubleshooting</h2>
                            <div style="display: flex; flex-direction: column; gap: 2rem;">
                                <div>
                                    <h3 class="font-semibold mb-4">Masalah Login</h3>
                                    <div style="display: flex; flex-direction: column; gap: 1rem;">
                                        <div style="border-left: 4px solid var(--primary); padding-left: 1rem;">
                                            <h4 class="font-medium mb-2">Tidak bisa login ke dashboard admin</h4>
                                            <ol class="text-sm" style="color: var(--muted-foreground); display: flex; flex-direction: column; gap: 0.25rem;">
                                                <li>1. Pastikan username dan password benar</li>
                                                <li>2. Coba refresh halaman dan clear cache browser</li>
                                                <li>3. Pastikan captcha diselesaikan dengan benar</li>
                                                <li>4. Cek koneksi internet Anda</li>
                                                <li>5. Jika masih bermasalah, hubungi support</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <h3 class="font-semibold mb-4">Masalah Data</h3>
                                    <div style="display: flex; flex-direction: column; gap: 1rem;">
                                        <div style="border-left: 4px solid var(--warning); padding-left: 1rem;">
                                            <h4 class="font-medium mb-2">Data tidak update / loading terus</h4>
                                            <ol class="text-sm" style="color: var(--muted-foreground); display: flex; flex-direction: column; gap: 0.25rem;">
                                                <li>1. Refresh halaman (F5 atau Ctrl+R)</li>
                                                <li>2. Cek koneksi internet</li>
                                                <li>3. Coba ubah rentang waktu data</li>
                                                <li>4. Clear cache browser</li>
                                                <li>5. Hubungi support jika robot menunjukkan offline</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        };

        const renderAdminPage = () => {
            const pages = { 'admin-dashboard': renderAdminDashboard, 'admin-history': renderAdminHistory, 'admin-settings': renderAdminSettings };
            (pages[state.currentPage] || pages['admin-dashboard'])();
        };

        const renderAdminDashboard = () => {
            const adminContent = document.getElementById('admin-content');
            adminContent.innerHTML = `
                <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8">
                    ${[
                        { icon: 'ü§ñ', status: 'online', value: '2', label: 'Robot Online' },
                        { icon: 'üí®', status: 'warning', value: '48', label: 'AQI Rata-rata' },
                        { icon: 'üìä', status: 'online', value: '1,250', label: 'Data Points Hari Ini' },
                        { icon: '‚ö†Ô∏è', status: 'error', value: '1', label: 'Alert Aktif' }
                    ].map(stat => `
                        <div class="stat-card">
                            <div class="stat-icon ${stat.status}">${stat.icon}</div>
                            <div class="stat-info"><h3>${stat.value}</h3><p>${stat.label}</p></div>
                        </div>
                    `).join('')}
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                    <div class="card p-6">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="text-xl font-semibold">Trend AQI 24 Jam</h3>
                            <select class="select">
                                <option>24 Jam</option>
                                <option>7 Hari</option>
                                <option>30 Hari</option>
                            </select>
                        </div>
                        <div style="height: 16rem; background: var(--muted); border-radius: var(--radius); display: flex; align-items: center; justify-content: center;">
                            <p style="color: var(--muted-foreground);">üìà Grafik akan ditampilkan di sini</p>
                        </div>
                    </div>
                    <div class="card p-6">
                        <h3 class="text-xl font-semibold mb-4">Status Robot Real-time</h3>
                        <div style="display: flex; flex-direction: column; gap: 1rem;">
                            ${ROBOT_DATA.map(robot => `
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 0.75rem; background: var(--muted); border-radius: var(--radius);">
                                    <div style="display: flex; align-items: center; gap: 0.75rem;">
                                        ${getRobotStatusIcon(robot.status)}
                                        <div>
                                            <span class="font-medium">${robot.name}</span><br>
                                            <span class="text-sm" style="color: var(--muted-foreground);">${robot.location}</span>
                                        </div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div class="font-medium">${robot.currentData ? `AQI: ${robot.currentData.aqi}` : 'Offline'}</div>
                                        <div class="text-sm" style="color: var(--muted-foreground);">Battery: ${robot.battery ? robot.battery + '%' : 'N/A'}</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
                <div class="card p-6">
                    <h3 class="text-xl font-semibold mb-4">Alerts Terbaru</h3>
                    <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                        ${[
                            { icon: '‚ö†Ô∏è', title: 'GREENOVA-003 Offline', desc: 'Robot telah offline selama 15 menit', time: '5 min ago', bg: 'rgba(239, 68, 68, 0.1)', border: 'var(--error)' },
                            { icon: 'üîã', title: 'Low Battery Warning', desc: 'GREENOVA-001 battery level: 15%', time: '2 hours ago', bg: 'rgba(245, 158, 11, 0.1)', border: 'var(--warning)' },
                            { icon: 'üí®', title: 'High AQI detected', desc: 'AQI mencapai 105 di area industri', time: '1 day ago', bg: 'rgba(16, 185, 129, 0.1)', border: 'var(--success)' }
                        ].map(alert => `
                            <div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: ${alert.bg}; border-radius: var(--radius); border-left: 4px solid ${alert.border};">
                                <span style="font-size: 1.5rem;">${alert.icon}</span>
                                <div style="flex: 1;">
                                    <p class="font-medium">${alert.title}</p>
                                    <p class="text-sm" style="color: var(--muted-foreground);">${alert.desc}</p>
                                </div>
                                <span class="text-sm" style="color: var(--muted-foreground);">${alert.time}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        };

        const renderAdminHistory = () => {
            const adminContent = document.getElementById('admin-content');
            adminContent.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                    <div>
                        <h1>Riwayat Data</h1>
                        <p>Historical data dan trend analysis</p>
                    </div>
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <input type="date" class="input" value="2023-11-01">
                            <span>to</span>
                            <input type="date" class="input" value="2023-12-01">
                            <button class="btn btn-primary">Apply</button>
                        </div>
                        <button class="btn btn-outline">üìä Export CSV</button>
                    </div>
                </div>
                <div style="display: flex; flex-wrap: wrap; gap: 1rem; margin-bottom: 2rem;">
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <label>Parameter:</label>
                        <select class="select">
                            <option value="aqi">AQI</option>
                            <option value="pm25">PM2.5</option>
                            <option value="pm10">PM10</option>
                            <option value="co2">CO‚ÇÇ</option>
                        </select>
                    </div>
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <label>Agregasi:</label>
                        <select class="select">
                            <option value="hourly">Per Jam</option>
                            <option value="daily">Harian</option>
                            <option value="weekly">Mingguan</option>
                        </select>
                    </div>
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <label>Robot:</label>
                        <select class="select">
                            <option value="all">Semua Robot</option>
                            <option value="robot-001">GREENOVA-001</option>
                            <option value="robot-002">GREENOVA-002</option>
                        </select>
                    </div>
                </div>
                <div class="card p-6 mb-8">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3>Historical Trend</h3>
                        <div style="display: flex; gap: 1rem;">
                            <span style="display: flex; align-items: center; gap: 0.5rem;">
                                <div style="width: 1rem; height: 1rem; background: var(--success); border-radius: var(--radius);"></div>
                                GREENOVA-001
                            </span>
                            <span style="display: flex; align-items: center; gap: 0.5rem;">
                                <div style="width: 1rem; height: 1rem; background: var(--primary); border-radius: var(--radius);"></div>
                                GREENOVA-002
                            </span>
                        </div>
                    </div>
                    <div style="height: 20rem; background: var(--muted); border-radius: var(--radius); display: flex; align-items: center; justify-content: center;">
                        <p style="color: var(--muted-foreground);">üìà Historical Chart akan ditampilkan di sini</p>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                    ${[
                        { title: 'Rata-rata AQI', value: '42.5', change: '‚Üë 5.2% dari bulan lalu', status: 'good' },
                        { title: 'Maksimum AQI', value: '89', info: '15 Nov 2023, 14:30', status: 'moderate' },
                        { title: 'Minimum AQI', value: '18', info: '03 Nov 2023, 05:45', status: 'good' },
                        { title: 'Data Points', value: '24,567', info: 'Dalam periode ini', status: 'normal' }
                    ].map(summary => `
                        <div class="card p-4">
                            <h4>${summary.title}</h4>
                            <span style="font-size: 1.5rem; font-weight: 600; color: var(--primary);">${summary.value}</span>
                            <span class="text-sm" style="color: var(--muted-foreground); display: block;">${summary.change || summary.info}</span>
                        </div>
                    `).join('')}
                </div>
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 1.5rem; border-bottom: 1px solid var(--border);">
                        <h3>Data History Table</h3>
                        <div style="display: flex; gap: 1rem;">
                            <input type="text" placeholder="Search..." class="input" style="width: 200px;">
                            <select class="select">
                                <option value="25">25 per page</option>
                                <option value="50">50 per page</option>
                                <option value="100">100 per page</option>
                            </select>
                        </div>
                    </div>
                    <div style="overflow-x: auto;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr style="background: var(--muted);">
                                    <th style="padding: 1rem; text-align: left; cursor: pointer;">Timestamp ‚ÜïÔ∏è</th>
                                    <th style="padding: 1rem; text-align: left; cursor: pointer;">Robot ‚ÜïÔ∏è</th>
                                    <th style="padding: 1rem; text-align: left; cursor: pointer;">AQI ‚ÜïÔ∏è</th>
                                    <th style="padding: 1rem; text-align: left; cursor: pointer;">PM2.5 ‚ÜïÔ∏è</th>
                                    <th style="padding: 1rem; text-align: left; cursor: pointer;">PM10 ‚ÜïÔ∏è</th>
                                    <th style="padding: 1rem; text-align: left;">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${[
                                    { time: '2023-12-01 09:00', robot: 'GREENOVA-001', aqi: 45, pm25: 12.5, pm10: 25.3 },
                                    { time: '2023-12-01 08:55', robot: 'GREENOVA-002', aqi: 52, pm25: 18.2, pm10: 35.1 },
                                    { time: '2023-12-01 08:50', robot: 'GREENOVA-001', aqi: 43, pm25: 11.8, pm10: 24.7 }
                                ].map(row => `
                                    <tr style="border-bottom: 1px solid var(--border);">
                                        <td style="padding: 1rem;">${row.time}</td>
                                        <td style="padding: 1rem;">${row.robot}</td>
                                        <td style="padding: 1rem;"><span class="badge aqi-good">${row.aqi}</span></td>
                                        <td style="padding: 1rem;">${row.pm25}</td>
                                        <td style="padding: 1rem;">${row.pm10}</td>
                                        <td style="padding: 1rem;"><button class="btn btn-sm">View</button></td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 1.5rem;">
                        <div>Showing 1-25 of 1,234 records</div>
                        <div style="display: flex; gap: 0.5rem;">
                            <button class="btn btn-sm" disabled>Previous</button>
                            <button class="btn btn-sm btn-primary">1</button>
                            <button class="btn btn-sm">2</button>
                            <button class="btn btn-sm">3</button>
                            <button class="btn btn-sm">Next</button>
                        </div>
                    </div>
                </div>
            `;
        };

        const renderAdminSettings = () => {
            const adminContent = document.getElementById('admin-content');
            adminContent.innerHTML = `
                <div>
                    <h1>Pengaturan Sistem</h1>
                    <p>Konfigurasi sistem dan manajemen robot</p>
                </div>
                <div style="display: flex; flex-wrap: wrap; gap: 0.5rem; margin: 2rem 0;">
                    <button class="edu-tab active" onclick="showSettingsTab('general')">General</button>
                    <button class="edu-tab" onclick="showSettingsTab('robots')">Robot Management</button>
                    <button class="edu-tab" onclick="showSettingsTab('alerts')">Alerts</button>
                    <button class="edu-tab" onclick="showSettingsTab('users')">Users</button>
                </div>
                <div id="settings-general" class="settings-panel">
                    <div class="card p-6 mb-6">
                        <h2>General Settings</h2>
                        <div style="margin-top: 1.5rem;">
                            <h3 class="font-semibold mb-4">Dashboard Configuration</h3>
                            <div style="display: grid; gap: 1rem;">
                                <div class="form-group">
                                    <label class="form-label">Auto Refresh Interval</label>
                                    <select class="select">
                                        <option value="30">30 seconds</option>
                                        <option value="60" selected>1 minute</option>
                                        <option value="300">5 minutes</option>
                                    </select>
                                    <small style="color: var(--muted-foreground);">How often the dashboard should refresh data</small>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Default Date Range</label>
                                    <select class="select">
                                        <option value="24h" selected>24 Hours</option>
                                        <option value="7d">7 Days</option>
                                        <option value="30d">30 Days</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card p-6">
                        <h3 class="font-semibold mb-4">Data Retention</h3>
                        <div style="display: grid; gap: 1rem;">
                            <div class="form-group">
                                <label class="form-label">Data Retention Period</label>
                                <select class="select">
                                    <option value="30">30 days</option>
                                    <option value="90">90 days</option>
                                    <option value="365" selected>1 year</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Automatic Backup</label>
                                <select class="select">
                                    <option value="daily" selected>Daily</option>
                                    <option value="weekly">Weekly</option>
                                    <option value="monthly">Monthly</option>
                                </select>
                            </div>
                        </div>
                        <div style="margin-top: 1.5rem;">
                            <button class="btn btn-primary">Save Changes</button>
                            <button class="btn btn-outline" style="margin-left: 1rem;">Reset to Default</button>
                        </div>
                    </div>
                </div>
                <div id="settings-robots" class="settings-panel hidden">
                    <div class="card p-6">
                        <h2>Robot Management</h2>
                        <div style="margin-top: 1.5rem;">
                            ${ROBOT_DATA.map(robot => `
                                <div class="card p-4 mb-4">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                        <div>
                                            <h3>${robot.name}</h3>
                                            <span class="text-sm" style="color: var(--muted-foreground);">ID: ${robot.id}</span>
                                            <span class="badge ${robot.status === 'online' ? 'badge-primary' : 'badge-destructive'}" style="margin-left: 0.5rem;">${robot.status}</span>
                                        </div>
                                        <div style="display: flex; gap: 0.5rem;">
                                            <button class="btn btn-sm">Edit</button>
                                            <button class="btn btn-sm ${robot.status === 'online' ? 'btn-outline' : 'btn-destructive'}">
                                                ${robot.status === 'online' ? 'Reboot' : 'Diagnose'}
                                            </button>
                                        </div>
                                    </div>
                                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                                        <div>
                                            <label class="font-medium">Location:</label>
                                            <span>${robot.location}</span>
                                        </div>
                                        <div>
                                            <label class="font-medium">Last Seen:</label>
                                            <span>${robot.status === 'online' ? '2 minutes ago' : '15 minutes ago'}</span>
                                        </div>
                                        <div>
                                            <label class="font-medium">Battery:</label>
                                            <span>${robot.battery ? robot.battery + '%' : 'Unknown'}</span>
                                        </div>
                                        <div>
                                            <label class="font-medium">Firmware:</label>
                                            <span>${robot.firmware}</span>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        <div style="margin-top: 1.5rem;">
                            <button class="btn btn-primary">‚ûï Add New Robot</button>
                            <button class="btn btn-outline" style="margin-left: 1rem;">Bulk Update</button>
                        </div>
                    </div>
                </div>
                <div id="settings-alerts" class="settings-panel hidden">
                    <div class="card p-6">
                        <h2>Alerts & Notifications</h2>
                        <div style="margin-top: 1.5rem;">
                            <h3 class="font-semibold mb-4">Alert Rules</h3>
                            ${[
                                { title: 'High AQI Alert', desc: 'Trigger when AQI > 100', enabled: true },
                                { title: 'Robot Offline Alert', desc: 'Trigger when robot offline > 10 minutes', enabled: true },
                                { title: 'Low Battery Warning', desc: 'Trigger when battery < 20%', enabled: true }
                            ].map(rule => `
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--muted); border-radius: var(--radius); margin-bottom: 1rem;">
                                    <div>
                                        <h4 class="font-medium">${rule.title}</h4>
                                        <p class="text-sm" style="color: var(--muted-foreground);">${rule.desc}</p>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 1rem;">
                                        <label style="position: relative; display: inline-block; width: 44px; height: 24px;">
                                            <input type="checkbox" ${rule.enabled ? 'checked' : ''} style="opacity: 0; width: 0; height: 0;">
                                            <span style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background: ${rule.enabled ? 'var(--primary)' : '#ccc'}; transition: 0.3s; border-radius: 24px;"></span>
                                        </label>
                                        <button class="btn btn-sm">Edit</button>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
                <div id="settings-users" class="settings-panel hidden">
                    <div class="card p-6">
                        <h2>User Management</h2>
                        <div style="margin-top: 1.5rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                                <h3>Akun Admin</h3>
                                <button class="btn btn-primary">‚ûï Tambah Admin</button>
                            </div>
                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                ${[
                                    { name: 'Admin User', email: 'admin@greenova.com', role: 'Super Admin', status: 'Active' },
                                    { name: 'Operator User', email: 'operator@greenova.com', role: 'Operator', status: 'Active' }
                                ].map(user => `
                                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--muted); border-radius: var(--radius);">
                                        <div>
                                            <h4 class="font-medium">${user.name}</h4>
                                            <p class="text-sm" style="color: var(--muted-foreground);">${user.email}</p>
                                            <span class="badge badge-primary">${user.role}</span>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 1rem;">
                                            <span class="text-sm" style="color: var(--success);">${user.status}</span>
                                            <button class="btn btn-sm">Edit</button>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `;
        };

        const showSettingsTab = (tabId) => {
            document.querySelectorAll('.settings-panel').forEach(panel => panel.classList.add('hidden'));
            document.querySelectorAll('.edu-tab').forEach(tab => tab.classList.remove('active'));
            const selectedPanel = document.getElementById(`settings-${tabId}`);
            if (selectedPanel) selectedPanel.classList.remove('hidden');
            const selectedTab = document.querySelector(`[onclick="showSettingsTab('${tabId}')"]`);
            if (selectedTab) selectedTab.classList.add('active');
        };
    </script>
</body>
</html>